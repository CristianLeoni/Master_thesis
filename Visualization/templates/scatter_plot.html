



<!DOCTYPE html>
<html lang="en">
  
  <head>
<style>
	.parent {
		margin-bottom: 15px;
		padding: 10px;
		color: #0A416B;
		clear:both;
	}
	.left, .center, .right{
		float:left;
		width:32%;
		border:1px solid #CEDCEA; 
		padding:5px;
	}
	
	iframe {
		display: block;       /* iframes are inline by default */
		border: none;         /* Reset default border */
		height: 100vh;        /* Viewport-relative units */
		width: 100vw;
	}


	.exp{
		float:right;
		border:1px solid #CEDCEA; 
		padding:5px;
		width:50%;
		max-width: 100%;
	}

	.bk-root{
		float:left;
		width:49%;
		height:100%;
		border:1px solid #CEDCEA; 
		padding:5px;
	}
</style>    
      <meta charset="utf-8">
      <title>Bokeh Plot</title>
      
      
        
          
        
        
          
        <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-2.2.1.min.js" integrity="sha384-qkRvDQVAIfzsJo40iRBbxt6sttt0hv4lh74DG7OK4MCHv4C5oohXYoHUM5W11uqS" crossorigin="anonymous"></script>
        <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.2.1.min.js" integrity="sha384-Sb7Mr06a9TNlet/GEBeKaf5xH3eb6AlCzwjtU82wNPyDrnfoiVl26qnvlKjmcAd+" crossorigin="anonymous"></script>
        <script type="text/javascript">
            Bokeh.set_log_level("info");
        </script>
        
      
      
    
  </head>
  
  
  <body>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
<script>
	col = ['green', 'blue', 'red'];
	cl = 1;
	col = d3.scaleOrdinal().domain([1,10]).range(d3.schemeSet2)
	
	console.log("VIsualize");
	function visualize_explanation(src){
		console.log("Visualize");
		d3.selectAll("iframe").remove();
		d3.select("body").append("iframe").attr("src",src).attr("title","InnerHTML").attr("class","exp");
	}
</script>
    
      
        
          
          
            
              <div class="bk-root" id="289dfd0f-7f5f-45b6-b171-84303a0a3538" data-root-id="5793"></div>
            
          
        
      
      
        <script type="application/json" id="5875">
          {"9e4b368c-4bf6-4a9b-a7fe-b2be2cce9f3e":{"roots":{"references":[{"attributes":{"icon":null,"js_event_callbacks":{"button_click":[{"id":"5791"}]},"label":"Expain it to me!"},"id":"5755","type":"Button"},{"attributes":{"source":{"id":"5754"}},"id":"5786","type":"CDSView"},{"attributes":{"js_property_callbacks":{"change:value":[{"id":"5788"}]},"options":["1","2","3","4","5","6","7","8","9"],"title":"Selected cluster:","value":"1"},"id":"5753","type":"Select"},{"attributes":{},"id":"5772","type":"BasicTicker"},{"attributes":{"js_property_callbacks":{"change:indices":[{"id":"5790"}]}},"id":"5789","type":"Selection"},{"attributes":{"children":[{"id":"5752"},{"id":"5792"}],"sizing_mode":"scale_width"},"id":"5793","type":"Row"},{"attributes":{"fill_color":{"field":"color"},"line_color":{"field":"color"},"x":{"field":"x"},"y":{"field":"y"}},"id":"5783","type":"Scatter"},{"attributes":{"args":{"source":{"id":"5754"}},"code":"\n    console.log(\"source changed\");\n    var data = source.data;\n    cb_obj.indices.forEach(element =&gt;(data.color[element]=col(cl),data.label[element]=cl))\n    source.change.emit();\n"},"id":"5790","type":"CustomJS"},{"attributes":{"formatter":{"id":"5798"},"ticker":{"id":"5768"}},"id":"5767","type":"LinearAxis"},{"attributes":{},"id":"5800","type":"BasicTickFormatter"},{"attributes":{"args":{"source":{"id":"5754"},"title":{"id":"5757"}},"code":"\n    title.text = this.value;\n    d3.json(\"/get_dataset_\"+this.value,function(data){\n        source.data['x'] = Object.values(data['x']);\n        source.data['y'] = Object.values(data['y']);\n        source.data['label'] = Object.values(data['label']);\n        source.data['color'] = Object.values(data['color']);\n        source.change.emit();\n    });    \n"},"id":"5787","type":"CustomJS"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"5775"},{"id":"5776"}]},"id":"5779","type":"Toolbar"},{"attributes":{"bottom_units":"screen","fill_alpha":0.5,"fill_color":"lightgrey","left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","top_units":"screen"},"id":"5777","type":"BoxAnnotation"},{"attributes":{"fill_alpha":0.5,"fill_color":"lightgrey","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"xs_units":"screen","ys_units":"screen"},"id":"5778","type":"PolyAnnotation"},{"attributes":{"overlay":{"id":"5778"}},"id":"5776","type":"LassoSelectTool"},{"attributes":{"text":"Selected dataset"},"id":"5757","type":"Title"},{"attributes":{},"id":"5768","type":"BasicTicker"},{"attributes":{"data_source":{"id":"5754"},"glyph":{"id":"5783"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"5784"},"selection_glyph":null,"view":{"id":"5786"}},"id":"5785","type":"GlyphRenderer"},{"attributes":{"js_property_callbacks":{"change:value":[{"id":"5787"}]},"options":["a","b","c"],"title":"Select a dataset:","value":"a","width":100},"id":"5752","type":"Select"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"field":"color"},"line_alpha":{"value":0.1},"line_color":{"field":"color"},"x":{"field":"x"},"y":{"field":"y"}},"id":"5784","type":"Scatter"},{"attributes":{"overlay":{"id":"5777"}},"id":"5775","type":"BoxSelectTool"},{"attributes":{},"id":"5798","type":"BasicTickFormatter"},{"attributes":{"args":{"source":{"id":"5754"}},"code":"\n    cl = +this.value;\n"},"id":"5788","type":"CustomJS"},{"attributes":{},"id":"5765","type":"LinearScale"},{"attributes":{},"id":"5761","type":"DataRange1d"},{"attributes":{"formatter":{"id":"5800"},"ticker":{"id":"5772"}},"id":"5771","type":"LinearAxis"},{"attributes":{},"id":"5763","type":"LinearScale"},{"attributes":{"children":[{"id":"5753"},{"id":"5756"},{"id":"5755"}]},"id":"5792","type":"Column"},{"attributes":{"args":{"source":{"id":"5754"}},"code":"\n    console.log(\"Button pressed\");\n    d3.json(\"/elaborate_dataset?dataset=\"+JSON.stringify(source.data['label']).replaceAll('#','%23'),function(data){\n        visualize_explanation(data.src);\n    });\n"},"id":"5791","type":"CustomJS"},{"attributes":{},"id":"5759","type":"DataRange1d"},{"attributes":{"axis":{"id":"5767"},"ticker":null},"id":"5770","type":"Grid"},{"attributes":{"axis":{"id":"5771"},"dimension":1,"ticker":null},"id":"5774","type":"Grid"},{"attributes":{},"id":"5795","type":"UnionRenderers"},{"attributes":{"below":[{"id":"5767"}],"center":[{"id":"5770"},{"id":"5774"}],"left":[{"id":"5771"}],"renderers":[{"id":"5785"}],"title":{"id":"5757"},"toolbar":{"id":"5779"},"x_range":{"id":"5759"},"x_scale":{"id":"5763"},"y_range":{"id":"5761"},"y_scale":{"id":"5765"}},"id":"5756","subtype":"Figure","type":"Plot"},{"attributes":{"data":{"color":["red","red","red","red","red","red","red","red","red","red","red","red","red","red","red","red","red","red","red","red"],"label":[1,0,1,1,0,0,0,0,1,0,0,1,1,1,1,1,0,1,0,1],"x":[-10,-9,-8,-7,-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9],"y":[-10,-9,-8,-7,-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9]},"selected":{"id":"5789"},"selection_policy":{"id":"5795"}},"id":"5754","type":"ColumnDataSource"}],"root_ids":["5793"]},"title":"Bokeh Application","version":"2.2.1"}}
        </script>
        <script type="text/javascript">
          (function() {
            var fn = function() {
              Bokeh.safely(function() {
                (function(root) {
                  function embed_document(root) {
                    
                  var docs_json = document.getElementById('5875').textContent;
                  var render_items = [{"docid":"9e4b368c-4bf6-4a9b-a7fe-b2be2cce9f3e","root_ids":["5793"],"roots":{"5793":"289dfd0f-7f5f-45b6-b171-84303a0a3538"}}];
                  root.Bokeh.embed.embed_items(docs_json, render_items);
                
                  }
                  if (root.Bokeh !== undefined) {
                    embed_document(root);
                  } else {
                    var attempts = 0;
                    var timer = setInterval(function(root) {
                      if (root.Bokeh !== undefined) {
                        clearInterval(timer);
                        embed_document(root);
                      } else {
                        attempts++;
                        if (attempts > 100) {
                          clearInterval(timer);
                          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                        }
                      }
                    }, 10, root)
                  }
                })(window);
              });
            };
            if (document.readyState != "loading") fn();
            else document.addEventListener("DOMContentLoaded", fn);
          })();
        </script>
    
  </body>
  
</html>